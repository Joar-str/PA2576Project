#:include KV/searchDialog.kv


MDScreen:
    name:'home_page'
    id: home_page
    MDNavigationLayout:
        ScreenManager:
            id: sm
            Screen:
                id: home
                name: 'home'
                BoxLayout:
                    orientation: 'vertical'

                    MDToolbar:
                        title: "Menu"
                        elevation: 5
                        left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]
                        right_action_items: [['magnify', lambda x: app.show_dialog()]]
                    Screen:
                        BoxLayout:
                            orientation: 'vertical'
                            ScrollView:
                                MDList:
                                    id: ad_container
                        MDFloatingActionButton:
                            pos_hint: {"center_x": .5}
                            icon: 'plus'
                            on_press:
                                app.root.current = 'createSalesAD'

            Screen:
                id: profile_screen
                name: 'profile_screen'
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Menu"
                        elevation: 5
                        left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]
                        right_action_items: [['magnify', lambda x: app.show_dialog()]]
                    Screen:
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: '0dp'
                            padding: '-100dp'
                            MDLabel:
                                text: 'Your Profile'
                                font_size: 30
                                halign: 'center'
                                size_hint_y: None
                                height: self.texture_size[1]
                                padding_y: 15

                            MDTextField:
                                id: edit_user
                                icon_right: "account"
                                size_hint_x: None
                                width: 200
                                font_size: 14
                                pos_hint: {'center_x': .5}
                                multiline: False
                                text:''
                            MDTextField:
                                hint_text:'Telephone Number'
                                id: profile_phone
                                icon_right: "phone"
                                size_hint_x: None
                                width: 200
                                font_size: 14
                                pos_hint: {'center_x': .5, 'center_y':.5}
                                multiline: False
                                text: ''
                            MDTextField:
                                id: profile_password
                                icon_right: "eye-off"
                                size_hint_x: None
                                password: 'True'
                                width: 200
                                font_size: 14
                                pos_hint: {'center_x': .5}
                                multiline: False
                                text: ''
                            MDRectangleFlatIconButton:
                                icon: "account-reactivate"
                                text: 'Save'
                                theme_text_color: "Custom"
                                pos_hint: {'center_x': .5}
                                on_release:
                                    app.update_profile()

                    Widget:

            Screen:
                id: your_ad
                name: 'your_ad'
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Menu"
                        elevation: 5
                        left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]
                        right_action_items: [['magnify', lambda x: app.show_dialog()]]
                    ScrollView:
                        id: scroll
                        MDList:
                            id: container
                            on_touch_down:
                                sm.current = 'edit_ad_page'

            Screen:
                id: edit_ad_page
                name: 'edit_ad_page'
                BoxLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Menu"
                        elevation: 5
                        left_action_items: [['menu', lambda x: nav_drawer.set_state('toggle')]]
                        right_action_items: [['magnify', lambda x: app.show_dialog()]]
                    BoxLayout:
                        id: edit_layout
                        orientation: 'vertical'
                        spacing: '10dp'
                        padding: '10dp'
                        MDTextField:
                            hint_text:'Headline'
                            id: edit_headline
                            size_hint_x: None
                            width: 200
                            pos_hint: {'center_x': .5}
                            font_size: 12
                            multiline: False
                        MDTextField:
                            hint_text:'Description'
                            id: edit_description
                            icon_right:
                            size_hint_x: None
                            width: 200
                            pos_hint: {'center_x': .5}
                            font_size: 12
                            multiline: False

                        MDTextField:
                            hint_text:'Author'
                            id: edit_author
                            icon_right: "cell-phone"
                            size_hint_x: None
                            width: 200
                            pos_hint: {'center_x': .5}
                            font_size: 12
                            multiline: False

                        MDTextField:
                            hint_text:'Category'
                            id: edit_category
                            icon_right: "cell-phone"
                            size_hint_x: None
                            width: 200
                            pos_hint: {'center_x': .5}
                            font_size: 12
                            multiline: False

                        MDTextField:
                            hint_text:'Price'
                            id: edit_price
                            icon_right: "cell-phone"
                            size_hint_x: None
                            width: 200
                            pos_hint: {'center_x': .5}
                            font_size: 12
                            multiline: False

                        MDRectangleFlatIconButton:

                            icon: "account-reactivate"
                            text: 'Save'
                            theme_text_color: "Custom"
                            pos_hint: {'center_x': .5}
                            on_release:
                                app.clear_your_adlist('container')
                                app.update_ad_input()
                                sm.current = 'home'
                                sm.transition.direction = 'right'



        MDNavigationDrawer:
            id: nav_drawer

            BoxLayout:
                orientation: 'vertical'
                spacing: '10dp'
                padding: '10dp'
                MDLabel:
                    id: profile_name
                    text: ''
                    font_style: 'Caption'
                    size_hint_y: None
                    height: self.texture_size[1]
                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            text: 'Profile'
                            on_release:
                                sm.current = 'profile_screen'
                            IconLeftWidget:
                                icon: 'account'

                        OneLineIconListItem:
                            id: log_out
                            text: 'Log out'
                            on_release:
                                app.root.current = 'login'
                                app.clear_your_adlist('container')
                                app.reset()
                            IconLeftWidget:
                                icon: 'logout'

                        OneLineIconListItem:
                            text: 'Home'
                            on_release:
                                sm.current = 'home'
                                app.set_homepage_ads()
                                sm.transition.direction = 'right'

                            IconLeftWidget:
                                icon: 'home'

                        OneLineIconListItem:
                            text: 'Watchlist'
                            on_release:
                                sm.current = 'home'
                            IconLeftWidget:
                                icon: 'star'

                        OneLineIconListItem:
                            text: 'Your Ads'
                            on_release:
                                app.clear_your_adlist('container')
                                app.amount_ad()
                                sm.current = 'your_ad'

                            IconLeftWidget:
                                icon: 'format-list-bulleted'

                        OneLineIconListItem:
                            text: 'Messages'
                            IconLeftWidget:
                                icon: 'message'








